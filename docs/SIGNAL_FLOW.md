# éº»å°†è‡‚ Â· æ‰§è¡Œä¿¡å·é“¾

> æœ¬æ–‡æ¡£æè¿°ä» Discord ç”¨æˆ·è¾“å…¥åˆ°æ‰€æœ‰ç³»ç»Ÿè¾“å‡ºçš„**å®Œæ•´ä¿¡å·æµç¨‹**ã€‚
> é¢å‘ï¼šOpenClaw æ¥å…¥ / æœºæ¢°è‡‚å›¢é˜Ÿå¯¹æ¥ / UI è°ƒè¯•
>
> æœ€åæ›´æ–°ï¼š2026-02-28

---

## ä¸€ã€å…¨é“¾è·¯ä¿¡å·å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Discord ç”¨æˆ·                                                         â”‚
â”‚  "å¼€å§‹æ‰“éº»å°†å§"                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ Discord æ¶ˆæ¯
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OpenClawï¼ˆEC2 Â· 54.169.36.2ï¼‰                                        â”‚
â”‚                                                                       â”‚
â”‚  AI Brain è¯†åˆ«æ„å›¾ â†’ æ‰§è¡Œä»¥ä¸‹ä¸¤æ­¥ï¼š                                    â”‚
â”‚                                                                       â”‚
â”‚  Step Aï¼šPOST http://100.111.27.39:8000/activate                      â”‚
â”‚          â†’ å”¤é†’å‰ç«¯æ‘„åƒå¤´ + AutoLoop                                   â”‚
â”‚                                                                       â”‚
â”‚  Step Bï¼šPOST http://100.111.27.39:8000/trigger?style=polite          â”‚
â”‚          â†’ è®¾ç½® trigger_pending=trueï¼Œé€šçŸ¥å‰ç«¯æ‰§è¡Œä¸€æ¬¡å¼€ç‰Œ              â”‚
â”‚                                                                       â”‚
â”‚  Step Cï¼šæ¯ 0.8s è½®è¯¢ GET http://100.111.27.39:8000/status            â”‚
â”‚          â†’ ç­‰å¾… busy=false + recognized æœ‰å€¼ â†’ ç”Ÿæˆ Discord è§£è¯´       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ HTTP over Tailscale
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mac Hubï¼ˆ100.111.27.39:8000 Â· uvicorn Â· software/services/api.pyï¼‰   â”‚
â”‚                                                                       â”‚
â”‚  /activate â†’ status.activate_pending = True                           â”‚
â”‚  /trigger  â†’ status.trigger_pending  = True                           â”‚
â”‚  /status   â†’ è¿”å›æ‰€æœ‰çŠ¶æ€ï¼ˆbusy / recognized / last_scene / logsï¼‰     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ 800ms è½®è¯¢ /statusï¼ˆæµè§ˆå™¨ JS Â· main.jsï¼‰
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æµè§ˆå™¨å‰ç«¯ï¼ˆlocalhost:8000ï¼‰                                          â”‚
â”‚                                                                       â”‚
â”‚  æ£€æµ‹åˆ° activate_pending=true                                         â”‚
â”‚    â†’ startCamera()     å¼€å¯æ‘„åƒå¤´æµ                                    â”‚
â”‚    â†’ autoLoop = true   å¯åŠ¨ Watch Mode                                â”‚
â”‚                                                                       â”‚
â”‚  æ£€æµ‹åˆ° trigger_pending=true                                          â”‚
â”‚    â†’ autoLoopTick()    æ‰§è¡Œä¸€æ¬¡å®Œæ•´å¼€ç‰Œæµç¨‹ï¼ˆè§ä¸‹æ–¹"å‰ç«¯æ‰§è¡Œæµ"ï¼‰       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                         â–¼
  å‰ç«¯è°ƒç”¨ API                   æœºæ¢°è‡‚ï¼ˆ:9000ï¼‰
  ï¼ˆStep 1-4ï¼‰                  æ”¶åˆ° HTTP æŒ‡ä»¤æ‰§è¡ŒåŠ¨ä½œ

```

---

## äºŒã€å‰ç«¯æ‰§è¡Œæµï¼ˆautoLoopTick è¯¦è§£ï¼‰

```
autoLoopTick()
â”‚
â”œâ”€â”€ Step 1: POST /arm/start_scene?style=polite&safe=true
â”‚   â”‚   â†’ Orchestratorï¼šTTS("æ¥ï¼å¼€ç‰Œ")
â”‚   â”‚   â†’ arm.pick_tile()      â†’ POST :9000/pick_tile
â”‚   â”‚   â†’ arm.present()        â†’ POST :9000/present_to_camera
â”‚   â”‚   â† {"ok": true}          è‡‚é™æ­¢ä¿æŒï¼Œç­‰å¾…è¯†åˆ«
â”‚   â”‚
â”œâ”€â”€ Step 2-3: POST /capture_frame Ã— 4ï¼ˆæ¯å¸§ 0.3s é—´éš”ï¼‰
â”‚   â”‚   â†’ æµè§ˆå™¨ä» <video> æˆªå¸§ â†’ base64 â†’ /capture_frame
â”‚   â”‚   â†’ HistogramVision / MockVision è¯†åˆ«
â”‚   â”‚   â† {"ok": true, "recognized": {"label": "white_dragon", "confidence": 0.97}}
â”‚   â”‚   å–ç½®ä¿¡åº¦æœ€é«˜çš„å¸§ä½œä¸ºæœ€ç»ˆç»“æœ
â”‚   â”‚
â””â”€â”€ Step 4: POST /execute_scene
    â”‚   body: { scene, recognized_label, recognized_conf, style, safe }
    â”‚
    â”œâ”€â”€ è¯†åˆ«ç»“æœ = white_dragon â†’ scene = "A"
    â”‚   â†’ Orchestratorï¼šarm.throw_to_discard() â†’ POST :9000/throw_to_discard
    â”‚   â†’ TTS("çœ‹ï¼Œç™½æ¿ï¼æ‰”äº†ï¼")
    â”‚   â†’ å‰ç«¯ï¼šæ’­æ”¾ sceneA.mp4ï¼Œavatar åˆ‡ "acting"
    â”‚   â†’ å¯¹å±€ç»“æŸå POST :9000/homeï¼ˆå¯é€‰ï¼‰
    â”‚
    â””â”€â”€ è¯†åˆ«ç»“æœ = one_dot â†’ scene = "B"
        â†’ Orchestratorï¼šarm.return_tile() â†’ POST :9000/return_tile
        â†’ TTS("ä¸€ç­’ï¼æœ‰ç”¨ï¼Œç•™ç€ï¼")
        â†’ å‰ç«¯ï¼šæ’­æ”¾ sceneB.mp4ï¼Œavatar åˆ‡ "acting"
        â†’ å¯¹å±€ç»“æŸå POST :9000/homeï¼ˆå¯é€‰ï¼‰
```

---

## ä¸‰ã€æœºæ¢°è‡‚å›¢é˜Ÿæ¥å£å¯¹æ¥

### 3.1 æ¥å…¥æ–¹å¼

æœºæ¢°è‡‚å›¢é˜Ÿåœ¨è‡ªå·±çš„è®¾å¤‡ä¸Šå¯åŠ¨ HTTP æœåŠ¡ï¼ŒMac Hub é€šè¿‡ `HttpArm` é€‚é…å™¨è°ƒç”¨ã€‚

```
Mac Hub
  â””â”€â”€ software/adapters/arm/http_arm.py
        â””â”€â”€ è¯»å– software/.env ä¸­çš„ ARM_HTTP_BASE_URL
              â””â”€â”€ å‘ POST è¯·æ±‚åˆ°æœºæ¢°è‡‚æœåŠ¡
```

### 3.2 Mac ç«¯é…ç½®ï¼ˆä¸€æ¬¡æ€§æ“ä½œï¼‰

åœ¨ `software/.env` ä¸­è®¾ç½®ï¼š

```env
ARM_ADAPTER=http
ARM_HTTP_BASE_URL=http://<æœºæ¢°è‡‚è®¾å¤‡IP>:9000
```

é‡å¯ `./software/scripts/dev_run.sh` åç”Ÿæ•ˆï¼Œä¹‹å Mac è‡ªåŠ¨åˆ‡æ¢ä¸ºçœŸå®æœºæ¢°è‡‚ã€‚

### 3.3 æœºæ¢°è‡‚éœ€å®ç°çš„æ¥å£ï¼ˆcurl éªŒè¯ï¼‰

æœºæ¢°è‡‚å›¢é˜Ÿéœ€åœ¨ `:9000` ä¸Šå®ç°ä»¥ä¸‹ç«¯ç‚¹ï¼š

```bash
# è¿é€šæ€§æµ‹è¯•
curl http://<ARM_IP>:9000/status
# é¢„æœŸ: {"ready": true, "position": "home", "error": null}

# å®Œæ•´ Scene A æµ‹è¯•ï¼ˆç™½æ¿â†’æ‰”å‡ºï¼‰
curl -X POST http://<ARM_IP>:9000/pick_tile \
  -H "Content-Type: application/json" -d '{"safe": true}'

curl -X POST http://<ARM_IP>:9000/present_to_camera \
  -H "Content-Type: application/json" -d '{"safe": true}'

curl -X POST http://<ARM_IP>:9000/throw_to_discard \
  -H "Content-Type: application/json" -d '{"safe": true}'

# å®Œæ•´ Scene B æµ‹è¯•ï¼ˆä¸€ç­’â†’é€€å›ï¼‰
curl -X POST http://<ARM_IP>:9000/pick_tile \
  -H "Content-Type: application/json" -d '{"safe": true}'

curl -X POST http://<ARM_IP>:9000/present_to_camera \
  -H "Content-Type: application/json" -d '{"safe": true}'

curl -X POST http://<ARM_IP>:9000/return_tile \
  -H "Content-Type: application/json" -d '{"safe": true}'
```

> è¯¦ç»†æ¥å£è§„èŒƒè§ [ARM_API_CONTRACT.md](integration/ARM_API_CONTRACT.md)
> é€æ­¥æµ‹è¯•å‘½ä»¤è§ [ARM_STEP_BY_STEP.md](integration/ARM_STEP_BY_STEP.md)

### 3.4 æœºæ¢°è‡‚å¯¹æ¥è”è°ƒé¡ºåº

```
1. æœºæ¢°è‡‚å›¢é˜Ÿï¼šåœ¨è‡ªå·±è®¾å¤‡ä¸Šå®ç° :9000 æœåŠ¡å¹¶å¯åŠ¨
2. æœºæ¢°è‡‚å›¢é˜Ÿï¼šå‘ç»™ Eva ARM è®¾å¤‡çš„ IPï¼ˆæˆ– hostnameï¼‰
3. Evaï¼šåœ¨ software/.env å†™å…¥ ARM_HTTP_BASE_URL=http://<IP>:9000
4. Evaï¼šé‡å¯ dev_run.sh
5. è”è°ƒï¼šcurl http://localhost:8000/health ç¡®è®¤ arm_reachable: true
6. è”è°ƒï¼šé€šè¿‡ Mac Hub è§¦å‘ POST /triggerï¼Œè§‚å¯ŸçœŸå®è‡‚è¿åŠ¨
7. å…¨é“¾è·¯è”è°ƒï¼šDiscord â†’ OpenClaw â†’ Mac â†’ Arm â†’ UI
```

---

## å››ã€OpenClaw æ¥å…¥ Mac Hub

### 4.1 è¿æ¥æ–¹å¼ï¼ˆTailscaleï¼‰

```
OpenClaw åœ¨ EC2ï¼ˆ54.169.36.2ï¼‰
  â†’ é€šè¿‡ Tailscale VPN è®¿é—® Macï¼ˆ100.111.27.39ï¼‰
  â†’ è°ƒç”¨ http://100.111.27.39:8000/xxx
```

**å‰æ**ï¼šMac ä¸Š Tailscale ä¿æŒåœ¨çº¿ï¼ˆèœå•æ å›¾æ ‡ç»¿è‰²ï¼‰ã€‚

### 4.2 OpenClaw è°ƒç”¨ Mac çš„ä»£ç é€»è¾‘

OpenClaw çš„ skill/tool ä¸­éœ€è¦å®ç°ä»¥ä¸‹ HTTP è°ƒç”¨åºåˆ—ï¼š

```python
import httpx, time

HUB = "http://100.111.27.39:8000"

def on_start_mahjong(style="polite"):
    # 1. æ¿€æ´»å‰ç«¯ï¼ˆæ¯å±€å¼€å§‹è°ƒç”¨ä¸€æ¬¡ï¼‰
    httpx.post(f"{HUB}/activate", timeout=5)

    # 2. æ£€æŸ¥ä¸æ˜¯ busy æ‰è§¦å‘
    s = httpx.get(f"{HUB}/status", timeout=5).json()
    if s.get("busy"):
        return "ç³»ç»Ÿæ­£å¿™ï¼Œè¯·ç¨å€™..."

    # 3. è§¦å‘å¼€ç‰Œ
    r = httpx.post(f"{HUB}/trigger",
                   params={"style": style, "safe": True}, timeout=5)
    if not r.json().get("ok"):
        return "è§¦å‘å¤±è´¥ï¼š" + r.json().get("error", "æœªçŸ¥")

    # 4. è½®è¯¢ç»“æœï¼ˆæœ€å¤šç­‰ 15sï¼‰
    for _ in range(20):
        time.sleep(0.8)
        s = httpx.get(f"{HUB}/status", timeout=5).json()
        if not s.get("busy") and s.get("recognized"):
            label = s["recognized"]["label"]
            conf  = s["recognized"]["confidence"]
            scene = s.get("last_scene", "?")
            return format_commentary(label, conf, scene)

    return "è¯†åˆ«è¶…æ—¶ï¼Œè¯·æ£€æŸ¥æ‘„åƒå¤´å’Œæœºæ¢°è‡‚çŠ¶æ€"

def format_commentary(label, conf, scene):
    conf_pct = round(conf * 100)
    if label == "white_dragon" and scene == "A":
        return f"ğŸ€™ çœ‹åˆ°**ç™½æ¿**ï¼ˆç½®ä¿¡åº¦ {conf_pct}%ï¼‰ï¼Œå­—ç‰Œå­¤å¼ ï¼Œæ‰”äº†ï¼"
    elif label == "one_dot" and scene == "B":
        return f"ğŸ€‡ ä¸€**ç­’**ï¼ˆç½®ä¿¡åº¦ {conf_pct}%ï¼‰ï¼Œåºæ•°ç‰Œæœ‰æ­å­æ½œåŠ›ï¼Œç•™ç€ï¼"
    else:
        return f"è¯†åˆ«åˆ° {label}ï¼ˆ{conf_pct}%ï¼‰ï¼Œæ‰§è¡Œ Scene {scene}"
```

### 4.3 ç½®ä¿¡åº¦å…œåº•è§„åˆ™

| ç½®ä¿¡åº¦ | è¡Œä¸º |
|--------|------|
| â‰¥ 0.85 | è‡ªåŠ¨æ‰§è¡Œï¼Œæ’­æŠ¥ç»“æœ |
| 0.60â€“0.84 | æ‰§è¡Œï¼Œä½†åœ¨ Discord åŠ æ³¨"è¯†åˆ«ä¸å¤ªç¡®å®šï¼Œå¦‚æœ‰å¼‚è®®å¯ç”¨ /mj sceneA æˆ– /mj sceneB è¦†ç›–" |
| < 0.60 | ä¸è‡ªåŠ¨æ‰§è¡Œï¼Œ@ç©å®¶ è¯·æ±‚äººå·¥ç¡®è®¤ï¼š"è¯†åˆ«ä¸ç¡®å®šï¼ˆ{label} {conf_pct}%ï¼‰ï¼Œç™½æ¿è¿˜æ˜¯ä¸€ç­’ï¼Ÿ" |

---

## äº”ã€UI çŠ¶æ€åŒæ­¥

å‰ç«¯æ¯ **800ms** è½®è¯¢ `/status`ï¼Œå“åº”å­—æ®µæ˜ å°„åˆ°ç•Œé¢ï¼š

| å­—æ®µ | ç•Œé¢å…ƒç´  | è¯´æ˜ |
|------|----------|------|
| `busy=true` | çŠ¶æ€ç‚¹å˜é»„ + avatar â†’ "æ€è€ƒä¸­" | æœ‰åŠ¨ä½œåœ¨æ‰§è¡Œ |
| `busy=false`ï¼ˆä» true å˜ï¼‰| avatar â†’ "å®Œæˆ" 3s åå› "å¾…æœº" | åŠ¨ä½œç»“æŸ |
| `recognized.label` | ç‰Œé¢å±•ç¤ºåŒºï¼ˆç™½æ¿ğŸ€™/ä¸€ç­’ğŸ€‡ï¼‰ | ä¸Šæ¬¡è¯†åˆ«ç»“æœ |
| `recognized.confidence` | ç½®ä¿¡åº¦ % | |
| `last_scene=A` | æ’­æ”¾ sceneA.mp4 | æ‰”ç‰ŒåŠ¨ç”» |
| `last_scene=B` | æ’­æ”¾ sceneB.mp4 | é€€ç‰ŒåŠ¨ç”» |
| `last_error` | çŠ¶æ€ç‚¹å˜çº¢ + avatar â†’ "å‡ºé”™" | |
| `activate_pending=true` | startCamera() + autoLoop=true | OpenClaw è¿œç¨‹æ¿€æ´» |
| `trigger_pending=true` | autoLoopTick() | OpenClaw è¿œç¨‹è§¦å‘å¼€ç‰Œ |

---

## å…­ã€å¿«é€Ÿæ•…éšœæ’æŸ¥

| é—®é¢˜ | æ£€æŸ¥ç‚¹ | ä¿®å¤ |
|------|--------|------|
| OpenClaw æ— æ³•è®¿é—® Mac | `curl http://100.111.27.39:8000/health` | æ£€æŸ¥ Mac Tailscale çŠ¶æ€ |
| å‰ç«¯æ‘„åƒå¤´ä¸å¼€ | æµè§ˆå™¨æƒé™ | æ‰‹åŠ¨ç‚¹ã€Œå¼€å¯æ‘„åƒå¤´ã€æˆ–æ£€æŸ¥ HTTPS æƒé™ |
| æœºæ¢°è‡‚ä¸å“åº” | `curl http://<ARM_IP>:9000/status` | æ£€æŸ¥æœºæ¢°è‡‚æœåŠ¡æ˜¯å¦å¯åŠ¨ |
| è¯†åˆ«æ€»å¤±è´¥ | `/calibrate/from_camera?label=white_dragon` | é‡æ–°æ ‡å®šä¸¤ä¸ªç‰Œçš„å‚è€ƒå¸§ |
| trigger è¿”å› ok=false | `/status` ä¸­ `busy=true` | ç­‰å¾…å½“å‰åŠ¨ä½œå®Œæˆåé‡è¯• |
| Mac Hub æ²¡å¯åŠ¨ | `lsof -i :8000` | è¿è¡Œ `./software/scripts/dev_run.sh` |

---

## ä¸ƒã€å®Œæ•´æ—¶åºå›¾

```
Discord    OpenClaw     Mac Hub    æµè§ˆå™¨å‰ç«¯    æœºæ¢°è‡‚(:9000)   è¾“å‡º
   â”‚           â”‚            â”‚           â”‚               â”‚          â”‚
   â”‚"å¼€å§‹æ‰“éº»å°†"â”‚            â”‚           â”‚               â”‚          â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚            â”‚           â”‚               â”‚          â”‚
   â”‚           â”‚POST /activate           â”‚               â”‚          â”‚
   â”‚           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚            â”‚               â”‚          â”‚
   â”‚           â”‚           â”‚activate_pending=true        â”‚          â”‚
   â”‚           â”‚POST /trigger            â”‚               â”‚          â”‚
   â”‚           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚            â”‚               â”‚          â”‚
   â”‚           â”‚           â”‚trigger_pending=true         â”‚          â”‚
   â”‚           â”‚           â”‚            â”‚               â”‚          â”‚
   â”‚           â”‚           â”‚<â”€ getStatus (800ms poll) â”€â”€â”‚          â”‚
   â”‚           â”‚           â”‚   activate_pending â†’ true  â”‚          â”‚
   â”‚           â”‚           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚          â”‚
   â”‚           â”‚           â”‚                 startCamera()         â”‚
   â”‚           â”‚           â”‚                 autoLoop=true         â”‚
   â”‚           â”‚           â”‚<â”€ getStatus (next poll) â”€â”€â”€â”‚          â”‚
   â”‚           â”‚           â”‚   trigger_pending â†’ true   â”‚          â”‚
   â”‚           â”‚           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚          â”‚
   â”‚           â”‚           â”‚                 autoLoopTick()        â”‚
   â”‚           â”‚           â”‚                 POST /arm/start_scene â”‚
   â”‚           â”‚           â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚
   â”‚           â”‚           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚           â”‚           â”‚                            POST /pick_tile
   â”‚           â”‚           â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚           â”‚           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚           â”‚           â”‚                        POST /present_to_camera
   â”‚           â”‚           â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚           â”‚           â”‚ ok: true                   â”‚          â”‚
   â”‚           â”‚           â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚
   â”‚           â”‚           â”‚       POST /capture_frame Ã— 4        â”‚
   â”‚           â”‚           â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚
   â”‚           â”‚           â”‚ recognized: white_dragon 97%         â”‚
   â”‚           â”‚           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚          â”‚
   â”‚           â”‚           â”‚                 POST /execute_scene   â”‚
   â”‚           â”‚           â”‚                     scene=A           â”‚
   â”‚           â”‚           â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚
   â”‚           â”‚           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚           â”‚           â”‚                        POST /throw_to_discard
   â”‚           â”‚           â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚           â”‚           â”‚ ok: true                   â”‚          â”‚
   â”‚           â”‚           â”‚                 sceneA.mp4 playing    â”‚
   â”‚           â”‚           â”‚                 TTS: "ç™½æ¿ï¼Œæ‰”äº†ï¼"    â”‚
   â”‚           â”‚GET /statusâ”‚            â”‚               â”‚          â”‚
   â”‚           â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚            â”‚               â”‚          â”‚
   â”‚           â”‚recognized: white_dragon, scene: A      â”‚          â”‚
   â”‚"ğŸ€™ç™½æ¿ï¼Œå­—ç‰Œâ”‚           â”‚            â”‚               â”‚          â”‚
   â”‚ å­¤å¼ ï¼Œæ‰”äº†!"â”‚           â”‚            â”‚               â”‚          â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚            â”‚           â”‚               â”‚          â”‚
```
